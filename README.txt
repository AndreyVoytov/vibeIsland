Мы работаем над HTML+js игрой в портретной ориентации (в ланшафтной ориентации будут отображаться черные полосы по бокам).
Проект состоит из независимых html файлов управляемых преимущественно js (но возможно с использованием html), которые подключаются в index.html чтобы объедениться в игру
Если в каком-то из файлов в игру добавляется графический объект, то он должен быть 1) сэмулирован с помощью графических примитивов 2) добавлен с помощью картинки, с указанием габаритов в пикселях. Выбор 1 или 2 происходит с помощью проверки условия о том, что строка URL содержит подстроку 'images' (если содержит - 2, иначе 1)

Если в каком-то из файлов в игру добавляется htlm-элементы интерфейса, панели, кнопки - они должны отрисовываться каждая в отдельном методе 

Всё позиционирование графических объектов должно быть в % от ширины канваса

Старайся сохранять минимальную связность html-файлов, и старайся выделять логику в переиспользуемые логичные компоненты-html-файлы

Дополняй данную инструкцию при создании новых файлов в проекте
---------------------------------------
Список файлов:

index.html	Главная точка входа: задаёт контейнер и слои‑iframe (карта, окружение, ягоды, герой, логика героя, контроллер), рассчитывает ширину игры и каскадно подгружает остальные HTML‑файлы. 

map.html	Инициализирует статическую карту проходимости и сохраняет её в localStorage.map. 

layout.html	Рендерит море, остров (тайлы/срез), тень под островом, а также анимирует «акул», используя данные карты и камеры. 

berries.html	Управляет кустами и ягодами: спавн, рост, взрыв при контакте, анимация сбора и рендер с учётом камеры. 

heroAnimation.html	Рисует анимированного героя из набора спрайтов, использует состояние героя и триггер удара топором. 

hero.html	Логика движения героя по карте, обработка коллизий и вычисление камеры (центр на герое). 

controller.html	Реализует мобильный джойстик (pointer‑input) и пишет в localStorage вектор движения. 

VC.txt	Документ с описанием подхода, правилами, TODO и идеями развития проекта. 

------------------------------------------
Далее просьба не читать! Это внутренние заметки

--- Фичи ------
Нужно прописать фичу для добавления!
- интересную
- замкнутую


----- CODEX --------
Надо настроить codex на удаленную работу!!!!!!
чтобы выкатывал сам как-тою..


=== ФИЧА "КОНФИГУРИРУЕМОСТЬ" ===
0. Хочу получить возможность исправлять простой конфиг и добавлять ресурсы/биомы/расширять карту
Отсюда надо строить примерный портрет будующей игры
1. Надо начать с наброска конфига
2. Ещё надо сгенерить красивые ресики



=== ФИЧА "РЕСУРСЫ" ===
Хочется красиво отобразить существующие 

0. Конфиг для всех ягод/овощей (открываемость)




1. Картинки кустов/корнеплодов? - Придётся добавить, т.к. там тысячи всяких бамбуков разных. (получается 3д и 2д..)

? Почему это интересно ?
- это ведь просто клон pocket island
- может надо сфокусироваться на клоне?

КЛОН -> РАСШИРЕНИЕ -> PROFIT!!!









3. Добыча ресурсов?
4. Перекрафтинг ресурсов? - камень, дерево опять?
	- можно также вещи из 3-х компонентов делать!
		- нужны будут подсказки => отображать ресурс прозрачный над 


Хочется как-то умнее ресурсы использовать, чем отдача в заказы...
(И) Можно строить мельницы, дрели, лесопилки. Они будут собирать ресурс на дистанции
    Когда открываем панель строительства, человечек таскает такую штуку над головой. Потом подбрасывает и она ставится. (+ надо радиус рисовать..)



--- Геймдизайн ---
(!) Должны открываться новые биомы, где будут как раз деревья и камни. Их тайлы должны быть немного другого цвета..
(!) База - отстраивается в центре, пучком. Костер, палатка, кровать - всё вместе. Появляются плюсик, и панель с доступными покупками.
		- для стройки нужны деньги с заказов + ресурсы типа дерево итд.
		- основное снаряжение улучшается также?
		- нужно делать расширение острова (остров будет большой потом)
	
		Что-то привлекает животных также.. Животных также лупим.. И отдаём.
			- фишка животных? их надо бить несколько раз?
		ещё нужно монстриков/врагов.. Tower-defence получается..
		Яхта с заказами приплывает [хотя заказы ведь итак есть..]
			
		Нужно какой-то город отстраивать странный.. (+ дорожки в городе оставлять)




5. Добавь срубаемые ресурсы. Они должны не моментально срубаться как кусты, а должны срубаться за 5 ударов.
   У них будет по 5 картинок разной степени срубленности и тень. 
   Нужно ещё создать отдельный файл-конфигурацию для таких источников ресурсов.
   Там будет указан pivot такого объекта
   
   





-- накидать ui --
1. ресурсы
2. открытие новых ягод как в pocketLand

-- расширение --
1. добаить порталы с добываемымим кристаллами




(?) Может напихать сразу побольше классных механик, а потом полишить? (или вообще не полишить..)







() В pocketLand не нужна сортировка по z-индексу!!!!!
	=> доклонировать pocketland?? 
	      - ну хочется как раз с элементами сурвайвала..

2. Добавить спавн статичных препятствий (например камень)
3. Добавить игрока на layout-canvas и сортировку по z-индексу
4. Добавить добычу ресурса
5. (eazy) Добавить учет объектов в реальном времени (просто подмена карты в памяти?)







(!) Надо попробовать делать то, что эффективно делается! Разработка от инструмента.
    Пихать механики, которые хорошо добавляются (а не те, которые вздумалось)

- надо решить проблему с z-индексами при разработке полупрозрачными iframe
	- тут хз..
	
	
	Надо расставить объекты и походить между ними
		- куда воткнуть?